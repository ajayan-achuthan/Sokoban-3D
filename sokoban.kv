ScreenManager:
    MainScreen:
    NewGameScreen:
    LevelScreen:
    GameScreen:

<MainScreen>:
    name: 'main'
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Button:
            text: 'New game'
            size_hint_y: None
            height: 50
            on_release: app.new_game(self)

        Button:
            text: 'Continue game'
            size_hint_y: None
            height: 50
            on_release: app.continue_game(self)

        Button:
            text: 'Settings'
            size_hint_y: None
            height: 50
            on_release: app.settings(self)

        Button:
            text: 'High scores'
            size_hint_y: None
            height: 50
            on_release: app.high_scores(self)

        Button:
            text: 'Achievements'
            size_hint_y: None
            height: 50
            on_release: app.achievements(self)

        Button:
            text: 'Landscape orientation'
            size_hint_y: None
            height: 50
            on_release: app.landscape_orientation(self)

        Button:
            text: 'Exit'
            size_hint_y: None
            height: 50
            on_release: app.exit(self)

<NewGameScreen>:
    name: 'new_game'
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: 'CHOOSE A COLLECTION'
            size_hint_y: None
            height: 50

        ScrollView:
            BoxLayout:
                id: collection_grid
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 10

        Button:
            text: 'Back'
            size_hint_y: None
            height: 50
            on_release: app.back_to_main(self)

<LevelScreen>:
    name: 'levels'
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10

        Label:
            text: root.collection_name
            size_hint_y: None
            height: 50

        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 10

                GridLayout:
                    id: level_grid
                    cols: 4
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 10



        Button:
            text: 'Back'
            size_hint_y: None
            height: 50
            on_release: app.back_to_new_game(self)
<GameScreen>:
    name: 'game'
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        BoxLayout:
            size_hint_y: 0.15
            canvas:
                Color:
                    rgb: 1, 0, 0
                Rectangle:
                    size: self.size
                    pos:self.pos
            orientation: 'horizontal'
            Label:
                text: root.collection_name
                halign: 'left'
                valign: 'middle'
                size_hint: (1, None)
                height: 30
            Label:
                text: root.collection_name
                halign: 'left'
                valign: 'middle'
                size_hint: (1, None)
                height: 30
        GridLayout:
            id :game_grid
            cols :1
            size_hint_y: 0.5
        GridLayout:
            cols :7
            size_hint_y :0.25
            Button:
                text :'Up'
                on_press: root.game.move(0,-1, True)
            Button:
                text:'Left'
                on_press: root.game.move(-1,0, True)
            Button
                text:'Right'
                on_press: root.game.move(1,0, True)
            Button:
                text:'Down'
                on_press: root.game.move(0,1, True)
            Button
                text:'Undo'
                on_press:x: root.game.unmove()
            Button:
                text:'Reset'
                on_press: root.game.reset()
            Button:
                text:'Back'
                on_press:app.back_to_show_levels()
